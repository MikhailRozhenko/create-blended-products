{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/helpers.js","../src/js/constants.js","../src/js/products-api.js","../src/js/render-function.js","../src/js/handlers.js","../src/js/modal.js","../src/home.js"],"sourcesContent":["export const refs = {\n  categoriesList: document.querySelector('.categories'),\n  productsList: document.querySelector('.products'),\n  divNotFound: document.querySelector('.not-found'),\n  divModal: document.querySelector('.modal'),\n  divModalProduct: document.querySelector('.modal-product'),\n  btnCloseDivModal: document.querySelector('.modal__close-btn'),\n  formHeader: document.querySelector('.search-form'),\n  buttonClearInputForm: document.querySelector('.search-form__btn-clear'),\n};\n","import {\n  getEndpoints,\n  getInputsearchValue,\n  getProducts,\n  showError,\n} from './handlers';\nimport { refs } from './refs';\n\nexport function activeFirstBtn() {\n  const firstBtn = document.querySelector('.categories__btn');\n  if (firstBtn) {\n    firstBtn.classList.add('categories__btn--active');\n  }\n}\n\nexport function renderBtnListCategories() {\n  refs.categoriesList.addEventListener('click', event => {\n    if (event.target.nodeName !== 'BUTTON') {\n      return;\n    }\n\n    const btnTextcontent = event.target.textContent;\n\n    if (btnTextcontent === 'All') {\n      getProducts();\n    } else {\n      getEndpoints(btnTextcontent);\n    }\n\n    const allBtnCategories = document.querySelectorAll('.categories__btn');\n\n    allBtnCategories.forEach(btn => {\n      btn.classList.remove('categories__btn--active');\n    });\n\n    event.target.classList.add('categories__btn--active');\n  });\n}\n\nexport function renderInputValueProductsItem() {\n  refs.formHeader.addEventListener('submit', event => {\n    event.preventDefault();\n\n    const InputValue = event.target.elements.searchValue.value.trim();\n    if (InputValue === '') {\n      showError('Пожалуйста, заполните поле формы для поиска');\n      return;\n    }\n    getInputsearchValue(InputValue);\n  });\n}\n\nexport function clearInputSearchForm() {\n  refs.buttonClearInputForm.addEventListener('click', event => {\n    event.preventDefault();\n    refs.formHeader.elements.searchValue.value = '';\n    getProducts();\n  });\n}\n","export const BASE_URL = 'https://dummyjson.com';\n\nexport const currentPage = 1;\nexport const url = `https://dummyjson.com/products?limit=12&skip=${(currentPage - 1) * 12}`;\n\nexport const END_POINTS = {\n  CATEGORIES: '/products/category-list',\n  PRODUCTS: '/products',\n};\n","// API ендпоінти:\n\nimport axios from 'axios';\nimport { BASE_URL, currentPage, END_POINTS } from './constants';\naxios.defaults.baseURL = BASE_URL;\n\n// https://dummyjson.com/docs/products - документація бекенду, розділ продукти\n// https://dummyjson.com/products?limit=10&skip=10 - отримати всі продукти з пагінацією\n// https://dummyjson.com/products/1 - отримати один продукт по ID\n// https://dummyjson.com/products/search?q=nail - пошук продукту по ключовому слову\n// https://dummyjson.com/products/category-list - отримати список категорій продуктів\n// https://dummyjson.com/products/category/smartphones - отримати продукти по категорії\n\nexport async function fetchCategories() {\n  const { data } = await axios(`${END_POINTS.CATEGORIES}`);\n  return data;\n}\n\nexport async function fetchProducts() {\n  const params = {\n    limit: 12,\n    skip: (currentPage - 1) * 12,\n  };\n\n  const { data } = await axios.get(`${END_POINTS.PRODUCTS}`, { params });\n\n  return data;\n}\n\nexport async function fetchEndpoint(btnTextcontent) {\n  const params = {\n    limit: 12,\n    skip: (currentPage - 1) * 12,\n  };\n\n  const { data } = await axios.get(`/products/category/${btnTextcontent}`, {\n    params,\n  });\n\n  return data;\n}\n\nexport async function fetchItemEndPoint(id) {\n  const { data } = await axios.get(`/products/${id}`);\n\n  return data;\n}\n\nexport async function fetchItemInputValue(value) {\n  const params = {\n    q: value,\n    limit: 12,\n    skip: (currentPage - 1) * 12,\n  };\n\n  const { data } = await axios.get(`/products/search`, {\n    params,\n  });\n\n  return data;\n}\n","import { refs } from './refs';\n\nexport function renderCategories(data) {\n  const markup = data\n    .map(\n      el => `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${el}</button>\n </li>\n`\n    )\n    .join('');\n  refs.categoriesList.innerHTML = markup;\n}\n\nexport function renderProducts(product) {\n  const markup = product\n    .map(\n      product => `<li class=\"products__item\" data-id=\"${product.id}\">\n    <img class=\"products__image\" src=\"${product.images[0]}\" alt=\"${product.description}\"/>\n    <p class=\"products__title\">${product.title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand: ${product.brand}</span></p>\n    <p class=\"products__category\">Category: ${product.category}</p>\n    <p class=\"products__price\">Price: ${product.price}$</p>\n </li>\n`\n    )\n    .join('');\n  refs.productsList.innerHTML = markup;\n}\n\nexport function renderEndpoints(endpoint) {\n  const markup = endpoint\n    .map(\n      endpoint => `<li class=\"products__item\" data-id=\"${endpoint.id}\">\n    <img class=\"products__image\" src=\"${endpoint.images[0]}\" alt=\"${endpoint.description}\"/>\n    <p class=\"products__title\">${endpoint.title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand: ${endpoint.brand || 'No results'}</span></p>\n    <p class=\"products__category\">Category: ${endpoint.category}</p>\n    <p class=\"products__price\">Price: ${endpoint.price}$</p>\n </li>\n`\n    )\n    .join('');\n  refs.productsList.innerHTML = markup;\n}\n\nexport function renderDivModalItem(id) {\n  const tagsMarkup = Array.isArray(id.tags)\n    ? id.tags.map(tag => `<li class=\"modal-product__tag\">${tag}</li>`).join('')\n    : '';\n\n  const markup = `\n    <img class=\"modal-product__img\" src=\"${id.images?.[0] || ''}\" alt=\"${id.description}\" />\n    <div class=\"modal-product__content\">\n      <p class=\"modal-product__title\">${id.title}</p>\n      <ul class=\"modal-product__tags\">${tagsMarkup}</ul>\n      <p class=\"modal-product__description\">${id.description}</p>\n      <p class=\"modal-product__shipping-information\">Shipping: In stock</p>\n      <p class=\"modal-product__return-policy\">Return Policy: 30 days</p>\n      <p class=\"modal-product__price\">Price: ${id.price} $</p>\n      <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\n    </div>\n  `;\n\n  refs.divModalProduct.innerHTML = markup;\n}\n\nexport function renderInputItemValueProduct(value) {\n  const markup = value.products\n    .map(\n      value => `<li class=\"products__item\" data-id=\"${value.id}\">\n        <img\n          class=\"products__image\"\n          src=\"${value.thumbnail}\"\n          alt=\"${value.description}\"\n        />\n        <p class=\"products__title\">${value.title}</p>\n        <p class=\"products__brand\">\n          <span class=\"products__brand--bold\">\n            Brand: ${value.brand}\n          </span>\n        </p>\n        <p class=\"products__category\">\n          Category: ${value.category}\n        </p>\n        <p class=\"products__price\">\n          Price: ${value.price}$\n        </p>\n      </li>`\n    )\n    .join('');\n\n  refs.productsList.innerHTML = markup;\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { activeFirstBtn } from './helpers';\nimport {\n  fetchCategories,\n  fetchEndpoint,\n  fetchItemEndPoint,\n  fetchItemInputValue,\n  fetchProducts,\n} from './products-api';\nimport { refs } from './refs';\nimport {\n  renderCategories,\n  renderDivModalItem,\n  renderEndpoints,\n  renderInputItemValueProduct,\n  renderProducts,\n} from './render-function';\n\nexport function showError(message) {\n  iziToast.error({\n    message: message,\n    position: 'topRight',\n    timeout: 1500,\n    pauseOnHover: true,\n    close: true,\n  });\n}\n\nexport async function getCategories() {\n  try {\n    const data = await fetchCategories();\n    renderCategories(['All', ...data]);\n    activeFirstBtn();\n  } catch (error) {\n    console.log(error);\n    showError('try again later!');\n  }\n}\n\nexport async function getProducts(data) {\n  try {\n    const data = await fetchProducts();\n    refs.divNotFound.classList.remove('not-found--visible');\n    renderProducts(data.products);\n  } catch (error) {\n    console.log(error);\n    showError('try again later!');\n  }\n}\n\nexport async function getEndpoints(btnTextcontent) {\n  try {\n    const data = await fetchEndpoint(btnTextcontent);\n    if (data.products.length === 0) {\n      refs.divNotFound.classList.add('not-found--visible');\n      refs.productsList.innerHTML = '';\n      return;\n    }\n    refs.divNotFound.classList.remove('not-found--visible');\n    renderEndpoints(data.products);\n  } catch (error) {\n    console.log(error);\n    showError('try again later!');\n  }\n}\n\nexport async function getDivModalProductId(id) {\n  try {\n    const data = await fetchItemEndPoint(id);\n    renderDivModalItem(data);\n  } catch (error) {\n    console.log(error);\n    showError('try again later!');\n  }\n}\n\nexport async function getInputsearchValue(value) {\n  try {\n    const data = await fetchItemInputValue(value);\n\n    if (!data || data.products.length === 0) {\n      refs.divNotFound.classList.add('not-found--visible');\n      refs.productsList.innerHTML = '';\n      showError('К сожалению, по вашему запросу не было найдено результатов');\n      return;\n    }\n\n    refs.divNotFound.classList.remove('not-found--visible');\n    renderInputItemValueProduct(data);\n  } catch (error) {\n    console.log(error);\n    showError('К сожалению, по вашему запросу не было найдено результатов');\n  }\n}\n","import { getDivModalProductId } from './handlers';\nimport { refs } from './refs';\n\nexport function openClickDivModalOpen() {\n  refs.productsList.addEventListener('click', event => {\n    const productItem = event.target.closest('.products__item');\n    if (!productItem) {\n      return;\n    }\n\n    const productId = productItem.dataset.id;\n    getDivModalProductId(productId);\n    refs.divModal.classList.add('modal--is-open');\n    refs.btnCloseDivModal.addEventListener('click', closeDivModal);\n    refs.divModal.addEventListener('click', closeDivModal);\n\n    document.addEventListener('keydown', event => {\n      if (event.code === 'Escape') {\n        closeDivModal();\n      }\n    });\n  });\n}\n\nexport function closeDivModal() {\n  refs.divModal.classList.remove('modal--is-open');\n  refs.btnCloseDivModal.removeEventListener('click', closeDivModal);\n  document.removeEventListener('keydown', closeDivModal);\n  refs.divModal.removeEventListener('click', closeDivModal);\n}\n","//Логіка сторінки Home\n\nimport { getCategories, getProducts } from './js/handlers';\nimport {\n  clearInputSearchForm,\n  renderBtnListCategories,\n  renderInputValueProductsItem,\n} from './js/helpers';\nimport { closeDivModal, openClickDivModalOpen } from './js/modal';\n\ngetCategories();\n\ngetProducts();\n\nrenderBtnListCategories();\n\nopenClickDivModalOpen();\n\ncloseDivModal();\n\nrenderInputValueProductsItem();\n\nclearInputSearchForm();\n"],"names":["refs","activeFirstBtn","firstBtn","renderBtnListCategories","event","btnTextcontent","getProducts","getEndpoints","btn","renderInputValueProductsItem","InputValue","showError","getInputsearchValue","clearInputSearchForm","BASE_URL","currentPage","END_POINTS","axios","fetchCategories","data","fetchProducts","params","fetchEndpoint","fetchItemEndPoint","id","fetchItemInputValue","value","renderCategories","markup","el","renderProducts","product","renderEndpoints","endpoint","renderDivModalItem","tagsMarkup","tag","_a","renderInputItemValueProduct","message","iziToast","getCategories","error","getDivModalProductId","openClickDivModalOpen","productItem","productId","closeDivModal"],"mappings":"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"}