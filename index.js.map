{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/helpers.js","../src/js/constants.js","../src/js/products-api.js","../src/js/render-function.js","../src/js/handlers.js","../src/js/modal.js","../src/home.js"],"sourcesContent":["export const refs = {\n  categoriesList: document.querySelector('.categories'),\n  productsList: document.querySelector('.products'),\n  divNotFound: document.querySelector('.not-found'),\n  divModal: document.querySelector('.modal'),\n  divModalProduct: document.querySelector('.modal-product'),\n  btnCloseDivModal: document.querySelector('.modal__close-btn'),\n};\n","import { getEndpoints, getProducts } from './handlers';\nimport { refs } from './refs';\n\nexport function activeFirstBtn() {\n  const firstBtn = document.querySelector('.categories__btn');\n  if (firstBtn) {\n    firstBtn.classList.add('categories__btn--active');\n  }\n}\n\nexport function renderBtnListCategories() {\n  refs.categoriesList.addEventListener('click', event => {\n    if (event.target.nodeName !== 'BUTTON') {\n      return;\n    }\n\n    const btnTextcontent = event.target.textContent;\n\n    if (btnTextcontent === 'All') {\n      getProducts();\n    } else {\n      getEndpoints(btnTextcontent);\n    }\n\n    const allBtnCategories = document.querySelectorAll('.categories__btn');\n\n    allBtnCategories.forEach(btn => {\n      btn.classList.remove('categories__btn--active');\n    });\n\n    event.target.classList.add('categories__btn--active');\n  });\n}\n","export const BASE_URL = 'https://dummyjson.com';\n\nexport const currentPage = 1;\nexport const url = `https://dummyjson.com/products?limit=12&skip=${(currentPage - 1) * 12}`;\n\nexport const END_POINTS = {\n  CATEGORIES: '/products/category-list',\n  PRODUCTS: '/products',\n};\n","// API ендпоінти:\n\nimport axios from 'axios';\nimport { BASE_URL, currentPage, END_POINTS } from './constants';\naxios.defaults.baseURL = BASE_URL;\n\n// https://dummyjson.com/docs/products - документація бекенду, розділ продукти\n// https://dummyjson.com/products?limit=10&skip=10 - отримати всі продукти з пагінацією\n// https://dummyjson.com/products/1 - отримати один продукт по ID\n// https://dummyjson.com/products/search?q=nail - пошук продукту по ключовому слову\n// https://dummyjson.com/products/category-list - отримати список категорій продуктів\n// https://dummyjson.com/products/category/smartphones - отримати продукти по категорії\n\nexport async function fetchCategories() {\n  const { data } = await axios(`${END_POINTS.CATEGORIES}`);\n  return data;\n}\n\nexport async function fetchProducts() {\n  const params = {\n    limit: 12,\n    skip: (currentPage - 1) * 12,\n  };\n\n  const { data } = await axios.get(`${END_POINTS.PRODUCTS}`, { params });\n\n  return data;\n}\n\nexport async function fetchEndpoint(btnTextcontent) {\n  const params = {\n    limit: 12,\n    skip: (currentPage - 1) * 12,\n  };\n\n  const { data } = await axios.get(`/products/category/${btnTextcontent}`, {\n    params,\n  });\n\n  return data;\n}\n\nexport async function fetchItemEndPoint(id) {\n  const { data } = await axios.get(`/products/${id}`);\n\n  return data;\n}\n","import { refs } from './refs';\n\nexport function renderCategories(data) {\n  const markup = data\n    .map(\n      el => `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${el}</button>\n </li>\n`\n    )\n    .join('');\n  refs.categoriesList.innerHTML = markup;\n}\n\nexport function renderProducts(product) {\n  const markup = product\n    .map(\n      product => `<li class=\"products__item\" data-id=\"${product.id}\">\n    <img class=\"products__image\" src=\"${product.images[0]}\" alt=\"${product.description}\"/>\n    <p class=\"products__title\">${product.title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand: ${product.brand}</span></p>\n    <p class=\"products__category\">Category: ${product.category}</p>\n    <p class=\"products__price\">Price: ${product.price}$</p>\n </li>\n`\n    )\n    .join('');\n  refs.productsList.innerHTML = markup;\n}\n\nexport function renderEndpoints(endpoint) {\n  const markup = endpoint\n    .map(\n      endpoint => `<li class=\"products__item\" data-id=\"${endpoint.id}\">\n    <img class=\"products__image\" src=\"${endpoint.images[0]}\" alt=\"${endpoint.description}\"/>\n    <p class=\"products__title\">${endpoint.title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand: ${endpoint.brand}</span></p>\n    <p class=\"products__category\">Category: ${endpoint.category}</p>\n    <p class=\"products__price\">Price: ${endpoint.price}$</p>\n </li>\n`\n    )\n    .join('');\n  refs.productsList.innerHTML = markup;\n}\n\nexport function renderDivModalItem(id) {\n  const tagsMarkup = Array.isArray(id.tags)\n    ? id.tags.map(tag => `<li class=\"modal-product__tag\">${tag}</li>`).join('')\n    : '';\n\n  const markup = `\n    <img class=\"modal-product__img\" src=\"${id.images?.[0] || ''}\" alt=\"${id.description}\" />\n    <div class=\"modal-product__content\">\n      <p class=\"modal-product__title\">${id.title}</p>\n      <ul class=\"modal-product__tags\">${tagsMarkup}</ul>\n      <p class=\"modal-product__description\">${id.description}</p>\n      <p class=\"modal-product__shipping-information\">Shipping: In stock</p>\n      <p class=\"modal-product__return-policy\">Return Policy: 30 days</p>\n      <p class=\"modal-product__price\">Price: ${id.price} $</p>\n      <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\n    </div>\n  `;\n\n  refs.divModalProduct.innerHTML = markup;\n}\n","import iziToast from 'izitoast';\nimport { activeFirstBtn } from './helpers';\nimport {\n  fetchCategories,\n  fetchEndpoint,\n  fetchItemEndPoint,\n  fetchProducts,\n} from './products-api';\nimport { refs } from './refs';\nimport {\n  renderCategories,\n  renderDivModalItem,\n  renderEndpoints,\n  renderProducts,\n} from './render-function';\n\nexport async function getCategories() {\n  try {\n    const data = await fetchCategories();\n    renderCategories(['All', ...data]);\n    activeFirstBtn();\n  } catch (error) {\n    console.log(error);\n    iziToast.error({ message: 'Try again later!' });\n  }\n}\n\nexport async function getProducts(data) {\n  try {\n    const data = await fetchProducts();\n    refs.divNotFound.classList.remove('not-found--visible');\n    renderProducts(data.products);\n  } catch (error) {\n    console.log(error);\n    iziToast.error({ message: 'Try again later!' });\n  }\n}\n\nexport async function getEndpoints(btnTextcontent) {\n  try {\n    const data = await fetchEndpoint(btnTextcontent);\n    if (data.products.length === 0) {\n      refs.divNotFound.classList.add('not-found--visible');\n      refs.productsList.innerHTML = '';\n      return;\n    }\n    refs.divNotFound.classList.remove('not-found--visible');\n    renderEndpoints(data.products);\n  } catch (error) {\n    console.log(error);\n    iziToast.error({ message: 'Try again later!' });\n  }\n}\n\nexport async function getDivModalProductId(id) {\n  try {\n    const data = await fetchItemEndPoint(id);\n    renderDivModalItem(data);\n  } catch (error) {\n    console.log(error);\n    iziToast.error({ message: 'Try again later!' });\n  }\n}\n","import { getDivModalProductId } from './handlers';\nimport { refs } from './refs';\n\nexport function openClickDivModalOpen() {\n  refs.productsList.addEventListener('click', event => {\n    const productItem = event.target.closest('.products__item');\n    if (!productItem) {\n      return;\n    }\n\n    const productId = productItem.dataset.id;\n    getDivModalProductId(productId);\n    refs.divModal.classList.add('modal--is-open');\n    refs.btnCloseDivModal.addEventListener('click', closeDivModal);\n    refs.divModal.addEventListener('click', closeDivModal);\n\n    document.addEventListener('keydown', event => {\n      if (event.code === 'Escape') {\n        closeDivModal();\n      }\n    });\n  });\n}\n\nexport function closeDivModal() {\n  refs.divModal.classList.remove('modal--is-open');\n  refs.btnCloseDivModal.removeEventListener('click', closeDivModal);\n  document.removeEventListener('keydown', closeDivModal);\n  refs.divModal.removeEventListener('click', closeDivModal);\n}\n","//Логіка сторінки Home\n\nimport { getCategories, getProducts } from './js/handlers';\nimport { renderBtnListCategories } from './js/helpers';\nimport { closeDivModal, openClickDivModalOpen } from './js/modal';\n\ngetCategories();\n\ngetProducts();\n\nrenderBtnListCategories();\n\nopenClickDivModalOpen();\n\ncloseDivModal();\n"],"names":["refs","activeFirstBtn","firstBtn","renderBtnListCategories","event","btnTextcontent","getProducts","getEndpoints","btn","BASE_URL","currentPage","END_POINTS","axios","fetchCategories","data","fetchProducts","params","fetchEndpoint","fetchItemEndPoint","id","renderCategories","markup","el","renderProducts","product","renderEndpoints","endpoint","renderDivModalItem","tagsMarkup","tag","_a","getCategories","error","iziToast","getDivModalProductId","openClickDivModalOpen","productItem","productId","closeDivModal"],"mappings":"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"}