import{a as u,i as g}from"./vendor-CYhTztQS.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}})();const L="https://dummyjson.com",y={CATEGORIES:"/products/category-list",PRODUCTS:"/products"};u.defaults.baseURL=L;const d=12;async function C(){const{data:t}=await u(`${y.CATEGORIES}`);return t}async function S(t){const s={limit:d,skip:(t-1)*d},{data:o}=await u.get(`${y.PRODUCTS}`,{params:s});return o}async function I(t,s){const o={limit:d,skip:(s-1)*d},{data:a}=await u.get(`/products/category/${t}`,{params:o});return a}async function $(t){const{data:s}=await u.get(`/products/${t}`);return s}async function E(t,s){const o={limit:d,q:t,skip:(s-1)*d},{data:a}=await u.get("/products/search",{params:o});return a}const e={categoriesList:document.querySelector(".categories"),productsList:document.querySelector(".products"),divNotFound:document.querySelector(".not-found"),divModal:document.querySelector(".modal"),divModalProduct:document.querySelector(".modal-product"),btnCloseDivModal:document.querySelector(".modal__close-btn"),formHeader:document.querySelector(".search-form"),buttonClearInputForm:document.querySelector(".search-form__btn-clear"),buttonWishList:document.querySelector(".modal-product__btn--wishlist"),spanCart:document.querySelector(".nav__count-cart"),spanWishlist:document.querySelector(".nav__count-wishlist"),buttonCart:document.querySelector(".modal-product__btn--cart"),spanCartItems:document.querySelector(".cart-summary__value"),spanCartTotalPrice:document.querySelector(".cart-summary__price"),buttonBuyProducts:document.querySelector(".cart-summary__btn"),buttonThemeSwitch:document.querySelector(".theme-toggle-btn"),body:document.querySelector("body"),loadMoreButton:document.querySelector(".load-more-btn"),loader:document.querySelector(".loader"),scrollTopBtn:document.querySelector(".scroll-top-btn")};function M(t){const s=t.map(o=>`<li class="categories__item">
   <button class="categories__btn" type="button">${o}</button>
 </li>
`).join("");e.categoriesList.innerHTML=s}function k(t,s=!1){const o=t.map(a=>`<li class="products__item" data-id="${a.id}">
    <img class="products__image" src="${a.images[0]}" alt="${a.description}"/>
    <p class="products__title">${a.title}</p>
    <p class="products__brand"><span class="products__brand--bold">Brand: ${a.brand}</span></p>
    <p class="products__category">Category: ${a.category}</p>
    <p class="products__price">Price: ${a.price}$</p>
 </li>
`).join("");s?e.productsList.insertAdjacentHTML("beforeend",o):e.productsList.innerHTML=o}function w(t){const s=t.map(o=>`<li class="products__item" data-id="${o.id}">
    <img class="products__image" src="${o.images[0]}" alt="${o.description}"/>
    <p class="products__title">${o.title}</p>
    <p class="products__brand"><span class="products__brand--bold">Brand: ${o.brand||"No results"}</span></p>
    <p class="products__category">Category: ${o.category}</p>
    <p class="products__price">Price: ${o.price}$</p>
 </li>
`).join("");e.productsList.innerHTML=s}function T(t){var a;const s=Array.isArray(t.tags)?t.tags.map(r=>`<li class="modal-product__tag">${r}</li>`).join(""):"",o=`
    <img class="modal-product__img" src="${((a=t.images)==null?void 0:a[0])||""}" alt="${t.description}" />
    <div class="modal-product__content">
      <p class="modal-product__title">${t.title}</p>
      <ul class="modal-product__tags">${s}</ul>
      <p class="modal-product__description">${t.description}</p>
      <p class="modal-product__shipping-information">Shipping: In stock</p>
      <p class="modal-product__return-policy">Return Policy: 30 days</p>
      <p class="modal-product__price">Price: ${t.price} $</p>
      <button class="modal-product__buy-btn" type="button">Buy</button>
    </div>
  `;e.divModalProduct.innerHTML=o}function P(t){const s=t.products.map(o=>`<li class="products__item" data-id="${o.id}">
        <img
          class="products__image"
          src="${o.thumbnail}"
          alt="${o.description}"
        />
        <p class="products__title">${o.title}</p>
        <p class="products__brand">
          <span class="products__brand--bold">
            Brand: ${o.brand}
          </span>
        </p>
        <p class="products__category">
          Category: ${o.category}
        </p>
        <p class="products__price">
          Price: ${o.price}$
        </p>
      </li>`).join("");e.productsList.innerHTML=s}function c(t){g.error({message:t,position:"topRight",timeout:1500,pauseOnHover:!0,close:!0})}async function N(){try{e.loader.classList.remove("is-hidden");const t=await C();M(["All",...t]),O()}catch(t){console.log(t),c("try again later!")}finally{e.loader.classList.add("is-hidden")}}async function _(t,s=!1){try{e.loader.classList.remove("is-hidden");const o=await S(t);e.loadMoreButton.style.display="block",e.divNotFound.classList.remove("not-found--visible"),k(o.products,s),o.skip+o.limit>=o.total&&(e.loadMoreButton.style.display="none")}catch(o){console.log(o),c("try again later!")}finally{e.loader.classList.add("is-hidden")}}async function q(t,s){try{e.loadMoreButton.style.display="none",e.loader.classList.remove("is-hidden");const o=await I(t,s);if(o.products.length===0){e.divNotFound.classList.add("not-found--visible"),e.productsList.innerHTML="";return}e.divNotFound.classList.remove("not-found--visible"),w(o.products)}catch(o){console.log(o),c("try again later!")}finally{e.loader.classList.add("is-hidden")}}async function B(t){try{e.loader.classList.remove("is-hidden");const s=await $(t);T(s)}catch(s){console.log(s),c("try again later!")}finally{e.loader.classList.add("is-hidden")}}async function D(t){try{e.loadMoreButton.style.display="none",e.loader.classList.remove("is-hidden");const s=await E(t);if(!s||s.products.length===0){e.divNotFound.classList.add("not-found--visible"),e.productsList.innerHTML="",c("Ðš ÑÐ¾Ð¶Ð°Ð»ÐµÐ½Ð¸ÑŽ, Ð¿Ð¾ Ð²Ð°ÑˆÐµÐ¼Ñƒ Ð·Ð°Ð¿Ñ€Ð¾ÑÑƒ Ð½Ðµ Ð±Ñ‹Ð»Ð¾ Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð²");return}e.divNotFound.classList.remove("not-found--visible"),P(s)}catch(s){console.log(s),c("Ðš ÑÐ¾Ð¶Ð°Ð»ÐµÐ½Ð¸ÑŽ, Ð¿Ð¾ Ð²Ð°ÑˆÐµÐ¼Ñƒ Ð·Ð°Ð¿Ñ€Ð¾ÑÑƒ Ð½Ðµ Ð±Ñ‹Ð»Ð¾ Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð²")}finally{e.loader.classList.add("is-hidden")}}let h=1;function O(){const t=document.querySelector(".categories__btn");t&&t.classList.add("categories__btn--active")}function F(){e.categoriesList.addEventListener("click",t=>{if(t.target.nodeName!=="BUTTON")return;const s=t.target.textContent;s==="All"?(_(h),h++):q(s,1),document.querySelectorAll(".categories__btn").forEach(a=>{a.classList.remove("categories__btn--active")}),t.target.classList.add("categories__btn--active")})}function A(){e.formHeader.addEventListener("submit",t=>{t.preventDefault();const s=t.target.elements.searchValue.value.trim();if(s===""){c("ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð·Ð°Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ Ð¿Ð¾Ð»Ðµ Ñ„Ð¾Ñ€Ð¼Ñ‹ Ð´Ð»Ñ Ð¿Ð¾Ð¸ÑÐºÐ°");return}D(s)})}function H(){e.buttonClearInputForm.addEventListener("click",t=>{t.preventDefault(),e.formHeader.elements.searchValue.value="",_()})}function l(t,s){const o=JSON.stringify(s);localStorage.setItem(t,o)}function p(t,s){const o=localStorage.getItem(t);try{return JSON.parse(o)}catch{return o}}function W(t){g.show({title:"ðŸ› ÐŸÐ¾ÐºÑƒÐ¿ÐºÐ° ÑƒÑÐ¿ÐµÑˆÐ½Ð°",message:t,position:"topRight",timeout:4e3,progressBar:!0,close:!0,pauseOnHover:!0,animateInside:!0,transitionIn:"fadeInDown",transitionOut:"fadeOutUp",backgroundColor:"#FFD54F",titleColor:"#1a1a1a",messageColor:"#1a1a1a",progressBarColor:"#FFB300"})}function v(t){t.target===t.currentTarget&&m()}function b(t){t.code==="Escape"&&m()}function R(){e.productsList.addEventListener("click",t=>{const s=t.target.closest(".products__item");if(!s)return;const o=s.dataset.id;e.divModal.dataset.productId=o,B(o),e.divModal.classList.add("modal--is-open"),e.divModal.addEventListener("click",v),e.btnCloseDivModal.addEventListener("click",m),document.addEventListener("keydown",b);const a=p("wishlist");if(a===null){e.buttonWishList.textContent="Add to Wishlist";return}a.some(f=>f===o)?e.buttonWishList.textContent="Remove from Wishlist":e.buttonWishList.textContent="Add to Wishlist";const n=p("cart");if(n===null){e.buttonCart.textContent="Add to Cart";return}n.some(f=>f===o)?e.buttonCart.textContent="Remove from Cart":e.buttonCart.textContent="Add to Cart"})}function V(){e.buttonWishList.addEventListener("click",()=>{const t=e.divModal.dataset.productId;let s=p("wishlist");if(s===null&&(s=[]),s.includes(t)){const a=s.filter(i=>i!==t);l("wishlist",a),document.dispatchEvent(new CustomEvent("wishlist-updated"));const r=document.querySelector(`.products__item[data-id="${t}"]`);r&&r.remove(),e.buttonWishList.textContent="Add to Wishlist";const n=a.length;e.spanWishlist.textContent=n}else{s.push(t),l("wishlist",s),document.dispatchEvent(new CustomEvent("wishlist-updated")),e.buttonWishList.textContent="Remove from Wishlist";const a=s.length;e.spanWishlist.textContent=a}})}function j(){e.buttonCart.addEventListener("click",()=>{const t=e.divModal.dataset.productId;let s=p("cart");if(s===null&&(s=[]),s.includes(t)){const a=s.filter(i=>i!==t);l("cart",a),document.dispatchEvent(new CustomEvent("cart-updated"));const r=document.querySelector(`.products__item[data-id="${t}"`);r&&r.remove(),e.buttonCart.textContent="Add to Cart";const n=a.length;e.spanCart.textContent=n}else{s.push(t),l("cart",s),document.dispatchEvent(new CustomEvent("cart-updated")),e.buttonCart.textContent="Remove from Cart";const a=s.length;e.spanCart.textContent=a}})}function m(){e.divModal.classList.remove("modal--is-open"),e.btnCloseDivModal.removeEventListener("click",m),e.divModal.removeEventListener("click",v),document.removeEventListener("keydown",b)}e.divModal.addEventListener("click",t=>{t.target.closest(".modal-product__buy-btn")&&W("ÐŸÐ¾Ð·Ð´Ñ€Ð°Ð²Ð»ÑÐµÐ¼ðŸ”¥, Ð²Ñ‹ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð¿Ñ€Ð¸Ð¾Ð±Ñ€ÐµÐ»Ð¸ ÑÑ‚Ð¾Ñ‚ Ñ‚Ð¾Ð²Ð°Ñ€âœ…")});function U(t){e.buttonThemeSwitch.addEventListener("click",s=>{s.preventDefault(),s.target.nodeName==="BUTTON"&&(e.body.classList.contains("theme-dark")?(e.body.classList.add("theme-light"),e.body.classList.remove("theme-dark"),l("theme","light")):(e.body.classList.add("theme-dark"),e.body.classList.remove("theme-light"),l("theme","dark")))})}function G(){p("theme")==="dark"?(e.body.classList.add("theme-dark"),e.body.classList.remove("theme-light")):(e.body.classList.remove("theme-dark"),e.body.classList.add("theme-light"))}export{V as a,j as b,m as c,G as d,A as e,H as f,p as g,$ as h,w as i,N as j,_ as k,F as l,R as o,e as r,U as t};
//# sourceMappingURL=theme-switcher-CbwEXnPL.js.map
