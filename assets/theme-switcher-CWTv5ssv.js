import{a as u,i as g}from"./vendor-CYhTztQS.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function o(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerPolicy&&(n.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?n.credentials="include":a.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(a){if(a.ep)return;a.ep=!0;const n=o(a);fetch(a.href,n)}})();const v="https://dummyjson.com",h={CATEGORIES:"/products/category-list",PRODUCTS:"/products"};u.defaults.baseURL=v;const d=12;async function C(){const{data:t}=await u(`${h.CATEGORIES}`);return t}async function L(t){const e={limit:d,skip:(t-1)*d},{data:o}=await u.get(`${h.PRODUCTS}`,{params:e});return o}async function I(t,e){const o={limit:d,skip:(e-1)*d},{data:r}=await u.get(`/products/category/${t}`,{params:o});return r}async function S(t){const{data:e}=await u.get(`/products/${t}`);return e}async function $(t,e){const o={limit:d,q:t,skip:(e-1)*d},{data:r}=await u.get("/products/search",{params:o});return r}const s={categoriesList:document.querySelector(".categories"),productsList:document.querySelector(".products"),divNotFound:document.querySelector(".not-found"),divModal:document.querySelector(".modal"),divModalProduct:document.querySelector(".modal-product"),btnCloseDivModal:document.querySelector(".modal__close-btn"),formHeader:document.querySelector(".search-form"),buttonClearInputForm:document.querySelector(".search-form__btn-clear"),buttonWishList:document.querySelector(".modal-product__btn--wishlist"),spanCart:document.querySelector(".nav__count-cart"),spanWishlist:document.querySelector(".nav__count-wishlist"),buttonCart:document.querySelector(".modal-product__btn--cart"),spanCartItems:document.querySelector(".cart-summary__value"),spanCartTotalPrice:document.querySelector(".cart-summary__price"),buttonBuyProducts:document.querySelector(".cart-summary__btn"),buttonThemeSwitch:document.querySelector(".theme-toggle-btn"),body:document.querySelector("body"),loadMoreButton:document.querySelector(".load-more-btn")};function E(t){const e=t.map(o=>`<li class="categories__item">
   <button class="categories__btn" type="button">${o}</button>
 </li>
`).join("");s.categoriesList.innerHTML=e}function k(t,e=!1){const o=t.map(r=>`<li class="products__item" data-id="${r.id}">
    <img class="products__image" src="${r.images[0]}" alt="${r.description}"/>
    <p class="products__title">${r.title}</p>
    <p class="products__brand"><span class="products__brand--bold">Brand: ${r.brand}</span></p>
    <p class="products__category">Category: ${r.category}</p>
    <p class="products__price">Price: ${r.price}$</p>
 </li>
`).join("");e?s.productsList.insertAdjacentHTML("beforeend",o):s.productsList.innerHTML=o}function w(t){const e=t.map(o=>`<li class="products__item" data-id="${o.id}">
    <img class="products__image" src="${o.images[0]}" alt="${o.description}"/>
    <p class="products__title">${o.title}</p>
    <p class="products__brand"><span class="products__brand--bold">Brand: ${o.brand||"No results"}</span></p>
    <p class="products__category">Category: ${o.category}</p>
    <p class="products__price">Price: ${o.price}$</p>
 </li>
`).join("");s.productsList.innerHTML=e}function M(t){var r;const e=Array.isArray(t.tags)?t.tags.map(a=>`<li class="modal-product__tag">${a}</li>`).join(""):"",o=`
    <img class="modal-product__img" src="${((r=t.images)==null?void 0:r[0])||""}" alt="${t.description}" />
    <div class="modal-product__content">
      <p class="modal-product__title">${t.title}</p>
      <ul class="modal-product__tags">${e}</ul>
      <p class="modal-product__description">${t.description}</p>
      <p class="modal-product__shipping-information">Shipping: In stock</p>
      <p class="modal-product__return-policy">Return Policy: 30 days</p>
      <p class="modal-product__price">Price: ${t.price} $</p>
      <button class="modal-product__buy-btn" type="button">Buy</button>
    </div>
  `;s.divModalProduct.innerHTML=o}function T(t){const e=t.products.map(o=>`<li class="products__item" data-id="${o.id}">
        <img
          class="products__image"
          src="${o.thumbnail}"
          alt="${o.description}"
        />
        <p class="products__title">${o.title}</p>
        <p class="products__brand">
          <span class="products__brand--bold">
            Brand: ${o.brand}
          </span>
        </p>
        <p class="products__category">
          Category: ${o.category}
        </p>
        <p class="products__price">
          Price: ${o.price}$
        </p>
      </li>`).join("");s.productsList.innerHTML=e}function i(t){g.error({message:t,position:"topRight",timeout:1500,pauseOnHover:!0,close:!0})}async function x(){try{const t=await C();E(["All",...t]),B()}catch(t){console.log(t),i("try again later!")}}async function _(t,e=!1){try{const o=await L(t);s.loadMoreButton.style.display="block",s.divNotFound.classList.remove("not-found--visible"),k(o.products,e),o.skip+o.limit>=o.total&&(s.loadMoreButton.style.display="none")}catch(o){console.log(o),i("try again later!")}}async function P(t){try{const e=await I(t);if(e.products.length===0){s.divNotFound.classList.add("not-found--visible"),s.productsList.innerHTML="";return}s.divNotFound.classList.remove("not-found--visible"),w(e.products)}catch(e){console.log(e),i("try again later!")}}async function q(t){try{const e=await S(t);M(e)}catch(e){console.log(e),i("try again later!")}}async function D(t){try{const e=await $(t);if(!e||e.products.length===0){s.divNotFound.classList.add("not-found--visible"),s.productsList.innerHTML="",i("Ðš ÑÐ¾Ð¶Ð°Ð»ÐµÐ½Ð¸ÑŽ, Ð¿Ð¾ Ð²Ð°ÑˆÐµÐ¼Ñƒ Ð·Ð°Ð¿Ñ€Ð¾ÑÑƒ Ð½Ðµ Ð±Ñ‹Ð»Ð¾ Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð²");return}s.divNotFound.classList.remove("not-found--visible"),T(e)}catch(e){console.log(e),i("Ðš ÑÐ¾Ð¶Ð°Ð»ÐµÐ½Ð¸ÑŽ, Ð¿Ð¾ Ð²Ð°ÑˆÐµÐ¼Ñƒ Ð·Ð°Ð¿Ñ€Ð¾ÑÑƒ Ð½Ðµ Ð±Ñ‹Ð»Ð¾ Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð²")}}function B(){const t=document.querySelector(".categories__btn");t&&t.classList.add("categories__btn--active")}function N(){s.categoriesList.addEventListener("click",t=>{if(t.target.nodeName!=="BUTTON")return;const e=t.target.textContent;e==="All"?_():P(e),document.querySelectorAll(".categories__btn").forEach(r=>{r.classList.remove("categories__btn--active")}),t.target.classList.add("categories__btn--active")})}function F(){s.formHeader.addEventListener("submit",t=>{t.preventDefault();const e=t.target.elements.searchValue.value.trim();if(e===""){i("ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð·Ð°Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ Ð¿Ð¾Ð»Ðµ Ñ„Ð¾Ñ€Ð¼Ñ‹ Ð´Ð»Ñ Ð¿Ð¾Ð¸ÑÐºÐ°");return}D(e)})}function A(){s.buttonClearInputForm.addEventListener("click",t=>{t.preventDefault(),s.formHeader.elements.searchValue.value="",_()})}function l(t,e){const o=JSON.stringify(e);localStorage.setItem(t,o)}function p(t,e){const o=localStorage.getItem(t);try{return JSON.parse(o)}catch{return o}}function O(t){g.show({title:"ðŸ› ÐŸÐ¾ÐºÑƒÐ¿ÐºÐ° ÑƒÑÐ¿ÐµÑˆÐ½Ð°",message:t,position:"topRight",timeout:4e3,progressBar:!0,close:!0,pauseOnHover:!0,animateInside:!0,transitionIn:"fadeInDown",transitionOut:"fadeOutUp",backgroundColor:"#FFD54F",titleColor:"#1a1a1a",messageColor:"#1a1a1a",progressBarColor:"#FFB300"})}function y(t){t.target===t.currentTarget&&m()}function b(t){t.code==="Escape"&&m()}function H(){s.productsList.addEventListener("click",t=>{const e=t.target.closest(".products__item");if(!e)return;const o=e.dataset.id;s.divModal.dataset.productId=o,q(o),s.divModal.classList.add("modal--is-open"),s.divModal.addEventListener("click",y),s.btnCloseDivModal.addEventListener("click",m),document.addEventListener("keydown",b);const r=p("wishlist");if(r===null){s.buttonWishList.textContent="Add to Wishlist";return}r.some(f=>f===o)?s.buttonWishList.textContent="Remove from Wishlist":s.buttonWishList.textContent="Add to Wishlist";const n=p("cart");if(n===null){s.buttonCart.textContent="Add to Cart";return}n.some(f=>f===o)?s.buttonCart.textContent="Remove from Cart":s.buttonCart.textContent="Add to Cart"})}function R(){s.buttonWishList.addEventListener("click",()=>{const t=s.divModal.dataset.productId;let e=p("wishlist");if(e===null&&(e=[]),e.includes(t)){const r=e.filter(c=>c!==t);l("wishlist",r),document.dispatchEvent(new CustomEvent("wishlist-updated"));const a=document.querySelector(`.products__item[data-id="${t}"]`);a&&a.remove(),s.buttonWishList.textContent="Add to Wishlist";const n=r.length;s.spanWishlist.textContent=n}else{e.push(t),l("wishlist",e),document.dispatchEvent(new CustomEvent("wishlist-updated")),s.buttonWishList.textContent="Remove from Wishlist";const r=e.length;s.spanWishlist.textContent=r}})}function V(){s.buttonCart.addEventListener("click",()=>{const t=s.divModal.dataset.productId;let e=p("cart");if(e===null&&(e=[]),e.includes(t)){const r=e.filter(c=>c!==t);l("cart",r),document.dispatchEvent(new CustomEvent("cart-updated"));const a=document.querySelector(`.products__item[data-id="${t}"`);a&&a.remove(),s.buttonCart.textContent="Add to Cart";const n=r.length;s.spanCart.textContent=n}else{e.push(t),l("cart",e),document.dispatchEvent(new CustomEvent("cart-updated")),s.buttonCart.textContent="Remove from Cart";const r=e.length;s.spanCart.textContent=r}})}function m(){s.divModal.classList.remove("modal--is-open"),s.btnCloseDivModal.removeEventListener("click",m),s.divModal.removeEventListener("click",y),document.removeEventListener("keydown",b)}s.divModal.addEventListener("click",t=>{t.target.closest(".modal-product__buy-btn")&&O("ÐŸÐ¾Ð·Ð´Ñ€Ð°Ð²Ð»ÑÐµÐ¼ðŸ”¥, Ð²Ñ‹ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð¿Ñ€Ð¸Ð¾Ð±Ñ€ÐµÐ»Ð¸ ÑÑ‚Ð¾Ñ‚ Ñ‚Ð¾Ð²Ð°Ñ€âœ…")});function j(t){s.buttonThemeSwitch.addEventListener("click",e=>{e.preventDefault(),e.target.nodeName==="BUTTON"&&(s.body.classList.contains("theme-dark")?(s.body.classList.add("theme-light"),s.body.classList.remove("theme-dark"),l("theme","light")):(s.body.classList.add("theme-dark"),s.body.classList.remove("theme-light"),l("theme","dark")))})}function U(){p("theme")==="dark"?(s.body.classList.add("theme-dark"),s.body.classList.remove("theme-light")):(s.body.classList.remove("theme-dark"),s.body.classList.add("theme-light"))}export{R as a,V as b,m as c,U as d,F as e,A as f,p as g,S as h,w as i,x as j,_ as k,N as l,H as o,s as r,j as t};
//# sourceMappingURL=theme-switcher-CWTv5ssv.js.map
